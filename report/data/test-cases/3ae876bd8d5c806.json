{"uid":"3ae876bd8d5c806","name":"test_add[resolution0-chrome]","fullName":"系统设置.人力资源设置.薪资管理设置.薪资分类管理.test_commercial_insurance#test_add","historyId":"78385e01450c691c17f76b0efc836c64","time":{"start":1753513091065,"stop":1753513093047,"duration":1982},"description":"新增商业保险标准","descriptionHtml":"<p>新增商业保险标准</p>\n","status":"failed","statusMessage":"AssertionError: assert '已经有一条商业保险，无法再新增' == '新增成功'\n  \n  \u001B[0m\u001B[91m- 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 已经有一条商业保险，无法再新增\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d01e104bb6ccb27f0a63f65704d980dd\")>\nnavigate_to_commercial_insurance = None\n\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资分类管理-商业保险标准设置\")\n    @allure.description(\"新增商业保险标准\")\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    def test_add(driver,navigate_to_commercial_insurance):\n        wait = WebDriverWait(driver, 20)\n        try:\n            #点击新增按钮\n            add=wait.until(EC.element_to_be_clickable((By.XPATH, '//*[@id=\"app\"]/div/div[@class=\"main-container\"]/section//div/div[@class=\"table-info-bar flex flex-x-sb flex-y-center\"]/div[@class=\"right flex flex-y-center\"]/button/span[text()=\"新增\"]')))\n            add.click()\n            #点击保险类别\n            wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='commercial_insurance_type']]/div[@class='el-form-item__content']//input\"))).click()\n            #选择中国人寿保险\n            wait.until(EC.element_to_be_clickable((By.XPATH,\"//div[@x-placement='bottom-start']//ul/li/span[text()='中国人寿保险']\"))).click()\n            #输入公司月费\n            c=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='company_payment_month']]/div[@class='el-form-item__content']//input\")))\n            c.clear()\n            c.send_keys(\"600\")\n            #输入个人月费\n            p=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='personal_payment_month']]/div[@class='el-form-item__content']//input\")))\n            p.clear()\n            p.send_keys(\"50\")\n            #点击保存\n            save=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@aria-label='商业保险标准']/div[contains(@class, 'el-dialog__footer')]//button[contains(@class, 'el-button--success')]\")))\n            save.click()\n            #提示\n            text = wait.until(EC.element_to_be_clickable(\n                (By.XPATH, '//p[@class=\"el-message__content\"]')))\n    \n            if text.text != \"新增成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"商业保险标准设置新增失败截图\",\n                              attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n            assert text.text == \"新增成功\"\n        except Exception as e:\n>           raise e\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\薪资分类管理\\test_commercial_insurance.py:207: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d01e104bb6ccb27f0a63f65704d980dd\")>\nnavigate_to_commercial_insurance = None\n\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资分类管理-商业保险标准设置\")\n    @allure.description(\"新增商业保险标准\")\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    def test_add(driver,navigate_to_commercial_insurance):\n        wait = WebDriverWait(driver, 20)\n        try:\n            #点击新增按钮\n            add=wait.until(EC.element_to_be_clickable((By.XPATH, '//*[@id=\"app\"]/div/div[@class=\"main-container\"]/section//div/div[@class=\"table-info-bar flex flex-x-sb flex-y-center\"]/div[@class=\"right flex flex-y-center\"]/button/span[text()=\"新增\"]')))\n            add.click()\n            #点击保险类别\n            wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='commercial_insurance_type']]/div[@class='el-form-item__content']//input\"))).click()\n            #选择中国人寿保险\n            wait.until(EC.element_to_be_clickable((By.XPATH,\"//div[@x-placement='bottom-start']//ul/li/span[text()='中国人寿保险']\"))).click()\n            #输入公司月费\n            c=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='company_payment_month']]/div[@class='el-form-item__content']//input\")))\n            c.clear()\n            c.send_keys(\"600\")\n            #输入个人月费\n            p=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='personal_payment_month']]/div[@class='el-form-item__content']//input\")))\n            p.clear()\n            p.send_keys(\"50\")\n            #点击保存\n            save=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@aria-label='商业保险标准']/div[contains(@class, 'el-dialog__footer')]//button[contains(@class, 'el-button--success')]\")))\n            save.click()\n            #提示\n            text = wait.until(EC.element_to_be_clickable(\n                (By.XPATH, '//p[@class=\"el-message__content\"]')))\n    \n            if text.text != \"新增成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"商业保险标准设置新增失败截图\",\n                              attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n>           assert text.text == \"新增成功\"\nE           AssertionError: assert '已经有一条商业保险，无法再新增' == '新增成功'\nE             \nE             \u001B[0m\u001B[91m- 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ 已经有一条商业保险，无法再新增\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\薪资分类管理\\test_commercial_insurance.py:205: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"driver","time":{"start":1753513075513,"stop":1753513077927,"duration":2414},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"resolution","time":{"start":1753513075513,"stop":1753513075513,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"login","time":{"start":1753513077928,"stop":1753513086104,"duration":8176},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"navigate_to_commercial_insurance","time":{"start":1753513086104,"stop":1753513091064,"duration":4960},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"testStage":{"description":"新增商业保险标准","status":"failed","statusMessage":"AssertionError: assert '已经有一条商业保险，无法再新增' == '新增成功'\n  \n  \u001B[0m\u001B[91m- 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 已经有一条商业保险，无法再新增\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d01e104bb6ccb27f0a63f65704d980dd\")>\nnavigate_to_commercial_insurance = None\n\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资分类管理-商业保险标准设置\")\n    @allure.description(\"新增商业保险标准\")\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    def test_add(driver,navigate_to_commercial_insurance):\n        wait = WebDriverWait(driver, 20)\n        try:\n            #点击新增按钮\n            add=wait.until(EC.element_to_be_clickable((By.XPATH, '//*[@id=\"app\"]/div/div[@class=\"main-container\"]/section//div/div[@class=\"table-info-bar flex flex-x-sb flex-y-center\"]/div[@class=\"right flex flex-y-center\"]/button/span[text()=\"新增\"]')))\n            add.click()\n            #点击保险类别\n            wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='commercial_insurance_type']]/div[@class='el-form-item__content']//input\"))).click()\n            #选择中国人寿保险\n            wait.until(EC.element_to_be_clickable((By.XPATH,\"//div[@x-placement='bottom-start']//ul/li/span[text()='中国人寿保险']\"))).click()\n            #输入公司月费\n            c=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='company_payment_month']]/div[@class='el-form-item__content']//input\")))\n            c.clear()\n            c.send_keys(\"600\")\n            #输入个人月费\n            p=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='personal_payment_month']]/div[@class='el-form-item__content']//input\")))\n            p.clear()\n            p.send_keys(\"50\")\n            #点击保存\n            save=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@aria-label='商业保险标准']/div[contains(@class, 'el-dialog__footer')]//button[contains(@class, 'el-button--success')]\")))\n            save.click()\n            #提示\n            text = wait.until(EC.element_to_be_clickable(\n                (By.XPATH, '//p[@class=\"el-message__content\"]')))\n    \n            if text.text != \"新增成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"商业保险标准设置新增失败截图\",\n                              attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n            assert text.text == \"新增成功\"\n        except Exception as e:\n>           raise e\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\薪资分类管理\\test_commercial_insurance.py:207: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"d01e104bb6ccb27f0a63f65704d980dd\")>\nnavigate_to_commercial_insurance = None\n\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资分类管理-商业保险标准设置\")\n    @allure.description(\"新增商业保险标准\")\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    def test_add(driver,navigate_to_commercial_insurance):\n        wait = WebDriverWait(driver, 20)\n        try:\n            #点击新增按钮\n            add=wait.until(EC.element_to_be_clickable((By.XPATH, '//*[@id=\"app\"]/div/div[@class=\"main-container\"]/section//div/div[@class=\"table-info-bar flex flex-x-sb flex-y-center\"]/div[@class=\"right flex flex-y-center\"]/button/span[text()=\"新增\"]')))\n            add.click()\n            #点击保险类别\n            wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='commercial_insurance_type']]/div[@class='el-form-item__content']//input\"))).click()\n            #选择中国人寿保险\n            wait.until(EC.element_to_be_clickable((By.XPATH,\"//div[@x-placement='bottom-start']//ul/li/span[text()='中国人寿保险']\"))).click()\n            #输入公司月费\n            c=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='company_payment_month']]/div[@class='el-form-item__content']//input\")))\n            c.clear()\n            c.send_keys(\"600\")\n            #输入个人月费\n            p=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__body']//form//div[label[@for='personal_payment_month']]/div[@class='el-form-item__content']//input\")))\n            p.clear()\n            p.send_keys(\"50\")\n            #点击保存\n            save=wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@aria-label='商业保险标准']/div[contains(@class, 'el-dialog__footer')]//button[contains(@class, 'el-button--success')]\")))\n            save.click()\n            #提示\n            text = wait.until(EC.element_to_be_clickable(\n                (By.XPATH, '//p[@class=\"el-message__content\"]')))\n    \n            if text.text != \"新增成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"商业保险标准设置新增失败截图\",\n                              attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n>           assert text.text == \"新增成功\"\nE           AssertionError: assert '已经有一条商业保险，无法再新增' == '新增成功'\nE             \nE             \u001B[0m\u001B[91m- 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ 已经有一条商业保险，无法再新增\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\薪资分类管理\\test_commercial_insurance.py:205: AssertionError","steps":[],"attachments":[{"uid":"979c1a2253ba688e","name":"商业保险标准设置新增失败截图","source":"979c1a2253ba688e.png","type":"image/png","size":85904}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[{"name":"driver::0","time":{"start":1753513107382,"stop":1753513110154,"duration":2772},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"labels":[{"name":"epic","value":"人力资源设置"},{"name":"feature","value":"薪资管理设置"},{"name":"story","value":"薪资分类管理-商业保险标准设置"},{"name":"parentSuite","value":"系统设置.人力资源设置.薪资管理设置.薪资分类管理"},{"name":"suite","value":"test_commercial_insurance"},{"name":"host","value":"JH-KF10"},{"name":"thread","value":"19900-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"系统设置.人力资源设置.薪资管理设置.薪资分类管理.test_commercial_insurance"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'chrome'"},{"name":"resolution","value":"(1920, 1080)"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"3ae876bd8d5c806.json","parameterValues":["'chrome'","(1920, 1080)"]}