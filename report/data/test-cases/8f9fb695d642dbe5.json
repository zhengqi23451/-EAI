{"uid":"8f9fb695d642dbe5","name":"test_modify[resolution0-chrome]","fullName":"系统设置.人力资源设置.薪资管理设置.test_薪资等级设置#test_modify","historyId":"3fe065df300b89deb5780b04795f18d1","time":{"start":1753513054479,"stop":1753513061361,"duration":6882},"description":"编辑薪资等级设置","descriptionHtml":"<p>编辑薪资等级设置</p>\n","status":"failed","statusMessage":"AssertionError: assert '新增成功' == '更新成功'\n  \n  \u001B[0m\u001B[91m- 更新成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ? -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ?  +\u001B[90m\u001B[39;49;00m","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"183cb3c1a583d8f9c8bbccdc2697fde2\")>\nnavigate_to_salary_level = None\n\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资等级设置\")\n    @allure.description(\"编辑薪资等级设置\")\n    def test_modify(driver, navigate_to_salary_level):\n        wait = WebDriverWait(driver, 30)  # 增加等待时间\n        window_size = driver.get_window_size()\n        width, height = window_size[\"width\"], window_size[\"height\"]\n        time.sleep(3)\n        try:\n            # 查询框\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//div[contains(@class,\"app-container\")]/form[contains(@class,\"search-form\")]/div[@class=\"el-row\"]/div[2]/div/div[@class=\"el-form-item__content\"]/div/input'))).send_keys(\"t\")\n            # 点击查询按钮\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//form//div[contains(@class,\"search-btns\")]/button[contains(@class,\"el-button--success\")]'))).click()\n            time.sleep(2)\n    \n    \n            if width==1366:\n                a=wait.until(EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vxe-table--scroll-x-virtual\"]/div[@class=\"vxe-table--scroll-x-right-corner\"]')))\n                # 获取元素的位置信息\n                location = a.location\n                size = a.size\n    \n                # 计算点击位置（元素左边10像素的位置）\n                click_x = location['x'] - 10\n                click_y = location['y'] + (size['height'] / 2)  # 垂直居中\n    \n                # 移动到计算出的位置并点击\n                actions = ActionChains(driver)\n                actions.move_by_offset(click_x, click_y).click().perform()\n    \n            # 定位编辑按钮\n            modify = wait.until(EC.element_to_be_clickable((By.XPATH, '//tbody/tr[1]/td[contains(@class,\"col--last\")]//button[contains(@class,\"font-primary\")]')))\n            modify.click()\n    \n            # 点击保存\n            save_button = wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__footer']/div/button/span[text()='保存']\")))\n            save_button.click()\n    \n            # 检查提示信息\n            text = wait.until(EC.element_to_be_clickable((By.XPATH, '//p[@class=\"el-message__content\"]')))\n            if text.text != \"更新成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"薪资等级设置修改失败截图\", attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n            assert text.text == \"更新成功\"\n        except Exception as e:\n>           raise e\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\test_薪资等级设置.py:312: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"183cb3c1a583d8f9c8bbccdc2697fde2\")>\nnavigate_to_salary_level = None\n\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资等级设置\")\n    @allure.description(\"编辑薪资等级设置\")\n    def test_modify(driver, navigate_to_salary_level):\n        wait = WebDriverWait(driver, 30)  # 增加等待时间\n        window_size = driver.get_window_size()\n        width, height = window_size[\"width\"], window_size[\"height\"]\n        time.sleep(3)\n        try:\n            # 查询框\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//div[contains(@class,\"app-container\")]/form[contains(@class,\"search-form\")]/div[@class=\"el-row\"]/div[2]/div/div[@class=\"el-form-item__content\"]/div/input'))).send_keys(\"t\")\n            # 点击查询按钮\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//form//div[contains(@class,\"search-btns\")]/button[contains(@class,\"el-button--success\")]'))).click()\n            time.sleep(2)\n    \n    \n            if width==1366:\n                a=wait.until(EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vxe-table--scroll-x-virtual\"]/div[@class=\"vxe-table--scroll-x-right-corner\"]')))\n                # 获取元素的位置信息\n                location = a.location\n                size = a.size\n    \n                # 计算点击位置（元素左边10像素的位置）\n                click_x = location['x'] - 10\n                click_y = location['y'] + (size['height'] / 2)  # 垂直居中\n    \n                # 移动到计算出的位置并点击\n                actions = ActionChains(driver)\n                actions.move_by_offset(click_x, click_y).click().perform()\n    \n            # 定位编辑按钮\n            modify = wait.until(EC.element_to_be_clickable((By.XPATH, '//tbody/tr[1]/td[contains(@class,\"col--last\")]//button[contains(@class,\"font-primary\")]')))\n            modify.click()\n    \n            # 点击保存\n            save_button = wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__footer']/div/button/span[text()='保存']\")))\n            save_button.click()\n    \n            # 检查提示信息\n            text = wait.until(EC.element_to_be_clickable((By.XPATH, '//p[@class=\"el-message__content\"]')))\n            if text.text != \"更新成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"薪资等级设置修改失败截图\", attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n>           assert text.text == \"更新成功\"\nE           AssertionError: assert '新增成功' == '更新成功'\nE             \nE             \u001B[0m\u001B[91m- 更新成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             ? -\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             ?  +\u001B[90m\u001B[39;49;00m\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\test_薪资等级设置.py:310: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"resolution","time":{"start":1753513022429,"stop":1753513022429,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"driver","time":{"start":1753513022430,"stop":1753513024759,"duration":2329},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"login","time":{"start":1753513024759,"stop":1753513033090,"duration":8331},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0},{"name":"navigate_to_salary_level","time":{"start":1753513033090,"stop":1753513041343,"duration":8253},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"testStage":{"description":"编辑薪资等级设置","status":"failed","statusMessage":"AssertionError: assert '新增成功' == '更新成功'\n  \n  \u001B[0m\u001B[91m- 更新成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ? -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ?  +\u001B[90m\u001B[39;49;00m","statusTrace":"driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"183cb3c1a583d8f9c8bbccdc2697fde2\")>\nnavigate_to_salary_level = None\n\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资等级设置\")\n    @allure.description(\"编辑薪资等级设置\")\n    def test_modify(driver, navigate_to_salary_level):\n        wait = WebDriverWait(driver, 30)  # 增加等待时间\n        window_size = driver.get_window_size()\n        width, height = window_size[\"width\"], window_size[\"height\"]\n        time.sleep(3)\n        try:\n            # 查询框\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//div[contains(@class,\"app-container\")]/form[contains(@class,\"search-form\")]/div[@class=\"el-row\"]/div[2]/div/div[@class=\"el-form-item__content\"]/div/input'))).send_keys(\"t\")\n            # 点击查询按钮\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//form//div[contains(@class,\"search-btns\")]/button[contains(@class,\"el-button--success\")]'))).click()\n            time.sleep(2)\n    \n    \n            if width==1366:\n                a=wait.until(EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vxe-table--scroll-x-virtual\"]/div[@class=\"vxe-table--scroll-x-right-corner\"]')))\n                # 获取元素的位置信息\n                location = a.location\n                size = a.size\n    \n                # 计算点击位置（元素左边10像素的位置）\n                click_x = location['x'] - 10\n                click_y = location['y'] + (size['height'] / 2)  # 垂直居中\n    \n                # 移动到计算出的位置并点击\n                actions = ActionChains(driver)\n                actions.move_by_offset(click_x, click_y).click().perform()\n    \n            # 定位编辑按钮\n            modify = wait.until(EC.element_to_be_clickable((By.XPATH, '//tbody/tr[1]/td[contains(@class,\"col--last\")]//button[contains(@class,\"font-primary\")]')))\n            modify.click()\n    \n            # 点击保存\n            save_button = wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__footer']/div/button/span[text()='保存']\")))\n            save_button.click()\n    \n            # 检查提示信息\n            text = wait.until(EC.element_to_be_clickable((By.XPATH, '//p[@class=\"el-message__content\"]')))\n            if text.text != \"更新成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"薪资等级设置修改失败截图\", attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n            assert text.text == \"更新成功\"\n        except Exception as e:\n>           raise e\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\test_薪资等级设置.py:312: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"183cb3c1a583d8f9c8bbccdc2697fde2\")>\nnavigate_to_salary_level = None\n\n    @pytest.mark.parametrize(\"driver\",['chrome'],indirect=True)\n    @allure.epic(\"人力资源设置\")\n    @allure.feature(\"薪资管理设置\")\n    @allure.story(\"薪资等级设置\")\n    @allure.description(\"编辑薪资等级设置\")\n    def test_modify(driver, navigate_to_salary_level):\n        wait = WebDriverWait(driver, 30)  # 增加等待时间\n        window_size = driver.get_window_size()\n        width, height = window_size[\"width\"], window_size[\"height\"]\n        time.sleep(3)\n        try:\n            # 查询框\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//div[contains(@class,\"app-container\")]/form[contains(@class,\"search-form\")]/div[@class=\"el-row\"]/div[2]/div/div[@class=\"el-form-item__content\"]/div/input'))).send_keys(\"t\")\n            # 点击查询按钮\n            wait.until(EC.element_to_be_clickable((By.XPATH,'//form//div[contains(@class,\"search-btns\")]/button[contains(@class,\"el-button--success\")]'))).click()\n            time.sleep(2)\n    \n    \n            if width==1366:\n                a=wait.until(EC.element_to_be_clickable((By.XPATH, '//div[@class=\"vxe-table--scroll-x-virtual\"]/div[@class=\"vxe-table--scroll-x-right-corner\"]')))\n                # 获取元素的位置信息\n                location = a.location\n                size = a.size\n    \n                # 计算点击位置（元素左边10像素的位置）\n                click_x = location['x'] - 10\n                click_y = location['y'] + (size['height'] / 2)  # 垂直居中\n    \n                # 移动到计算出的位置并点击\n                actions = ActionChains(driver)\n                actions.move_by_offset(click_x, click_y).click().perform()\n    \n            # 定位编辑按钮\n            modify = wait.until(EC.element_to_be_clickable((By.XPATH, '//tbody/tr[1]/td[contains(@class,\"col--last\")]//button[contains(@class,\"font-primary\")]')))\n            modify.click()\n    \n            # 点击保存\n            save_button = wait.until(EC.element_to_be_clickable((By.XPATH, \"//div[@class='el-dialog__footer']/div/button/span[text()='保存']\")))\n            save_button.click()\n    \n            # 检查提示信息\n            text = wait.until(EC.element_to_be_clickable((By.XPATH, '//p[@class=\"el-message__content\"]')))\n            if text.text != \"更新成功\":\n                highlight_element(driver, text)\n                allure.attach(driver.get_screenshot_as_png(), name=\"薪资等级设置修改失败截图\", attachment_type=allure.attachment_type.PNG)\n                reset_element(driver, text)\n>           assert text.text == \"更新成功\"\nE           AssertionError: assert '新增成功' == '更新成功'\nE             \nE             \u001B[0m\u001B[91m- 更新成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             ? -\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ 新增成功\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             ?  +\u001B[90m\u001B[39;49;00m\n\nC:\\Users\\Administrator\\Desktop\\test\\系统设置\\人力资源设置\\薪资管理设置\\test_薪资等级设置.py:310: AssertionError","steps":[],"attachments":[{"uid":"1ca43fdf0795c52f","name":"薪资等级设置修改失败截图","source":"1ca43fdf0795c52f.png","type":"image/png","size":77303}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"stepsCount":0},"afterStages":[{"name":"driver::0","time":{"start":1753513072697,"stop":1753513075490,"duration":2793},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"stepsCount":0}],"labels":[{"name":"epic","value":"人力资源设置"},{"name":"feature","value":"薪资管理设置"},{"name":"story","value":"薪资等级设置"},{"name":"parentSuite","value":"系统设置.人力资源设置.薪资管理设置"},{"name":"suite","value":"test_薪资等级设置"},{"name":"host","value":"JH-KF10"},{"name":"thread","value":"19900-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"系统设置.人力资源设置.薪资管理设置.test_薪资等级设置"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'chrome'"},{"name":"resolution","value":"(1920, 1080)"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"8f9fb695d642dbe5.json","parameterValues":["'chrome'","(1920, 1080)"]}